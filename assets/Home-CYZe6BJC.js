import{r as C,P as d,j as e,F as y,a as M,b as S}from"./index-ytbsYa1s.js";import{C as b,a as p,u as v,b as w}from"./useTransaction-CTlf7E0F.js";const F=(s=[])=>{const a=t=>{const[r,u]=t.split("-");return`${r}-${u.padStart(2,"0")}`},n=()=>{const t=new Date,r=t.getFullYear(),u=(t.getMonth()+1).toString().padStart(2,"0");return`${r}-${u}`},l=s.length>0?s[s.length-1].monthYear:n(),o=a(l),[i,c]=C.useState(o);C.useEffect(()=>{c(o)},[o]);const x=t=>{c(t.target.value)},h=(s.find(t=>a(t.monthYear)===i)||{transactions:[]}).transactions,f=h.filter(t=>t.type==="spent").reduce((t,r)=>t+r.amount,0),j=h.filter(t=>t.type==="credited").reduce((t,r)=>t+r.amount,0),N=j-f;return{selectedMonth:i,handleMonthChange:x,transactions:h,totalSpent:f,totalCredited:j,remainingAmount:N,formattedLastMonth:o}},m=({title:s,value:a,icon:n,iconColor:l})=>e.jsx(b,{className:"flex-1 min-w-[150px] bg-inherit text-inherit border rounded-lg shadow-md",children:e.jsxs(p,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"text-lg font-medium",children:s}),e.jsxs("span",{className:"text-xl font-bold",children:[a,"â‚¹"]})]}),e.jsx(n,{className:`text-2xl ${l}`})]})});m.propTypes={title:d.string.isRequired,value:d.number.isRequired,icon:d.elementType.isRequired,iconColor:d.string};const E=()=>{const{data:s,LoaderComp:a}=v(),{selectedMonth:n,handleMonthChange:l,transactions:o,totalSpent:i,totalCredited:c,remainingAmount:x,formattedLastMonth:g}=F(s);return e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsxs(b,{className:" mt-2 bg-inherit border rounded-lg",children:[e.jsxs(w,{className:"lg:p-3 p-1 px-2 flex justify-between align-middle border-b rounded-t-lg",children:[e.jsxs("h3",{className:"self-center drop-shadow-lg",children:["Expenses ",n&&"for"," ",n]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"month",value:n,onChange:l,max:g,className:"bg-inherit border border-inherit rounded-lg p-2 text-inherit placeholder-inherit focus:outline-none focus:ring-2 focus:ring-inherit transition-colors duration-200 ease-in-out",placeholder:"Select month"})})]}),o.length===0?e.jsx(p,{className:"p-4 text-center",children:e.jsxs("p",{className:"text-lg font-medium text-gray-500",children:["No transactions available ",n&&"for"," ",n,"."]})}):e.jsxs(p,{className:"flex flex-wrap gap-4 m-2",children:[e.jsx(m,{title:"Spent",value:i,icon:y,iconColor:"text-green-500"}),e.jsx(m,{title:"Credited",value:c,icon:M,iconColor:"text-blue-500"}),e.jsx(m,{title:"Remaining Amount",value:x,icon:S,iconColor:"text-red-500"})]})]})]})},$=()=>e.jsx(e.Fragment,{children:e.jsx(E,{})});export{$ as default};
