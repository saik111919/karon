import{P as r,j as e,r as f,u as v,F as w,a as M,b as S,G as T}from"./index-CGlbQyh3.js";const y=({children:s,className:n})=>e.jsx("div",{className:`bg-inherit rounded-lg shadow-sm w-full shadow-current ${n}`,children:s});y.propTypes={children:r.node.isRequired,className:r.string};const g=({children:s,className:n})=>e.jsx("div",{className:`text-current ${n}`,children:s});g.propTypes={children:r.node.isRequired,className:r.string};const b=({children:s,className:n})=>e.jsx("div",{className:`bg-inherit border-b-2 rounded-t-xl ${n}`,children:s});b.propTypes={children:r.node.isRequired,className:r.string};const R=s=>{const n=t=>{const[a,N]=t.split("-");return`${a}-${N.padStart(2,"0")}`},o=()=>{const t=new Date,a=t.getFullYear(),N=(t.getMonth()+1).toString().padStart(2,"0");return`${a}-${N}`},c=s.length>0?s[s.length-1].monthYear:o(),l=n(c),[i,m]=f.useState(l);f.useEffect(()=>{m(l)},[l]);const j=t=>{m(t.target.value)},d=(s.find(t=>n(t.monthYear)===i)||{transactions:[]}).transactions,h=d.filter(t=>t.type==="spent").reduce((t,a)=>t+a.amount,0),x=d.filter(t=>t.type==="credited").reduce((t,a)=>t+a.amount,0),u=x-h;return{selectedMonth:i,handleMonthChange:j,transactions:d,totalSpent:h,totalCredited:x,remainingAmount:u,formattedLastMonth:l}},p=({title:s,value:n,icon:o,iconColor:c})=>e.jsx(y,{className:"flex-1 min-w-[150px] bg-inherit border rounded-lg shadow-md",children:e.jsxs(g,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"text-lg font-medium",children:s}),e.jsxs("span",{className:"text-xl font-bold",children:[n,"â‚¹"]})]}),e.jsx(o,{className:`text-2xl ${c}`})]})});p.propTypes={title:r.string.isRequired,value:r.number.isRequired,icon:r.elementType.isRequired,iconColor:r.string};const $=()=>{const[s,n]=f.useState([]),[o,c]=v(!1),l=async()=>{try{o(!0);const{data:u}=await T();n(u)}catch(u){console.error(u)}finally{o(!1)}};f.useEffect(()=>{l()},[]);const{selectedMonth:i,handleMonthChange:m,transactions:j,totalSpent:C,totalCredited:d,remainingAmount:h,formattedLastMonth:x}=R(s);return e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs(y,{className:"pb-1 mt-2",children:[e.jsxs(b,{className:"lg:p-3 p-1 px-2 flex justify-between align-middle",children:[e.jsxs("h3",{className:"self-center drop-shadow-lg",children:["Expenses for ",i]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"month",value:i,onChange:m,max:x,className:"bg-transparent border border-inherit rounded-lg p-2 text-inherit placeholder-inherit focus:outline-none focus:ring-2 focus:ring-inherit transition-colors duration-200 ease-in-out",placeholder:"Select month"})})]}),j.length===0?e.jsx(g,{className:"p-4 text-center",children:e.jsxs("p",{className:"text-lg font-medium text-gray-500",children:["No transactions available for ",i,"."]})}):e.jsxs(g,{className:"flex flex-wrap gap-4 m-2",children:[e.jsx(p,{title:"Spent",value:C,icon:w,iconColor:"text-green-500"}),e.jsx(p,{title:"Credited",value:d,icon:M,iconColor:"text-blue-500"}),e.jsx(p,{title:"Remaining Amount",value:h,icon:S,iconColor:"text-red-500"})]})]})]})},F=()=>e.jsx(e.Fragment,{children:e.jsx($,{})});export{F as default};
